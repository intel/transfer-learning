<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Image Classification Intel® Transfer Learning Tool CLI Examples &mdash; Intel® Transfer Learning Tool 0.2.0 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Text Classification Intel Transfer Learning Tool CLI Examples" href="text_classification.html" />
    <link rel="prev" title="CLI Reference" href="../../cli.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            Intel® Transfer Learning Tool
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../quickstart.html">Intel® Transfer Learning Tool</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../cli.html">CLI Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../cli.html#tlt">tlt</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Image Classification Intel® Transfer Learning Tool CLI Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#transfer-learning-using-your-own-dataset">Transfer learning using your own dataset</a></li>
<li class="toctree-l3"><a class="reference internal" href="#transfer-learning-using-a-dataset-from-the-tfds-catalog">Transfer learning using a dataset from the TFDS catalog</a></li>
<li class="toctree-l3"><a class="reference internal" href="#citations">Citations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="text_classification.html">Text Classification Intel Transfer Learning Tool CLI Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../api.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../notebooks.html">Example Notebooks</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Intel® Transfer Learning Tool</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../cli.html">CLI Reference</a></li>
      <li class="breadcrumb-item active">Image Classification Intel® Transfer Learning Tool CLI Examples</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/examples/cli/image_classification.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="image-classification-intel-transfer-learning-tool-cli-examples">
<h1>Image Classification Intel® Transfer Learning Tool CLI Examples<a class="headerlink" href="#image-classification-intel-transfer-learning-tool-cli-examples" title="Permalink to this heading">¶</a></h1>
<section id="transfer-learning-using-your-own-dataset">
<h2>Transfer learning using your own dataset<a class="headerlink" href="#transfer-learning-using-your-own-dataset" title="Permalink to this heading">¶</a></h2>
<p>The example below shows how the Intel Transfer Learning Tool CLI can be used for image classification transfer learning
using your own dataset. The dataset is expected to be organized with subfolders for each image
class. Each subfolder should contain .jpg images for the class. The name of the subfolder will
be used as the class label.</p>
<p>This example downloads a flower photos dataset from TensorFlow, which has images of
flowers belonging to 5 classes: daisy, dandelion, roses, sunflowers, and tulips. The extracted
dataset is already formatted in the expected format with subfolders for each class.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create dataset and output directories</span>
<span class="nv">DATASET_DIR</span><span class="o">=</span>/tmp/data
<span class="nv">OUTPUT_DIR</span><span class="o">=</span>/tmp/output
mkdir<span class="w"> </span>-p<span class="w"> </span><span class="si">${</span><span class="nv">DATASET_DIR</span><span class="si">}</span>
mkdir<span class="w"> </span>-p<span class="w"> </span><span class="si">${</span><span class="nv">OUTPUT_DIR</span><span class="si">}</span>

<span class="c1"># Download and extract the dataset</span>
wget<span class="w"> </span>-P<span class="w"> </span><span class="si">${</span><span class="nv">DATASET_DIR</span><span class="si">}</span><span class="w"> </span>https://storage.googleapis.com/download.tensorflow.org/example_images/flower_photos.tgz
tar<span class="w"> </span>-xzf<span class="w"> </span><span class="si">${</span><span class="nv">DATASET_DIR</span><span class="si">}</span>/flower_photos.tgz<span class="w"> </span>-C<span class="w"> </span><span class="si">${</span><span class="nv">DATASET_DIR</span><span class="si">}</span>

<span class="c1"># Set the DATASET_DIR to the extracted images folder</span>
<span class="nv">DATASET_DIR</span><span class="o">=</span><span class="si">${</span><span class="nv">DATASET_DIR</span><span class="si">}</span>/flower_photos

<span class="c1"># Train resnet_v1_50 using the flower photos directory</span>
tlt<span class="w"> </span>train<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-f<span class="w"> </span>tensorflow<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--model-name<span class="w"> </span>resnet_v1_50<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--dataset-dir<span class="w"> </span><span class="si">${</span><span class="nv">DATASET_DIR</span><span class="si">}</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--output-dir<span class="w"> </span><span class="si">${</span><span class="nv">OUTPUT_DIR</span><span class="si">}</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--epochs<span class="w"> </span><span class="m">2</span>

<span class="c1"># Evaluate the model exported after training</span>
<span class="c1"># Note that your --model-dir path may vary, since each training run creates a new directory</span>
tlt<span class="w"> </span><span class="nb">eval</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--model-dir<span class="w"> </span>/tmp/output/resnet_v1_50/1<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--dataset-dir<span class="w"> </span><span class="si">${</span><span class="nv">DATASET_DIR</span><span class="si">}</span>
</pre></div>
</div>
</section>
<section id="transfer-learning-using-a-dataset-from-the-tfds-catalog">
<h2>Transfer learning using a dataset from the TFDS catalog<a class="headerlink" href="#transfer-learning-using-a-dataset-from-the-tfds-catalog" title="Permalink to this heading">¶</a></h2>
<p>This example shows the Intel Transfer Learning Tool CLI being used for image classification transfer learning
using the <code class="docutils literal notranslate"><span class="pre">tf_flowers</span></code> dataset from the
<a class="reference external" href="https://www.tensorflow.org/datasets/catalog/overview">TensorFlow Datasets (TFDS) catalog</a>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create dataset and output directories</span>
<span class="nv">DATASET_DIR</span><span class="o">=</span>/tmp/data
<span class="nv">OUTPUT_DIR</span><span class="o">=</span>/tmp/output
mkdir<span class="w"> </span>-p<span class="w"> </span><span class="si">${</span><span class="nv">DATASET_DIR</span><span class="si">}</span>
mkdir<span class="w"> </span>-p<span class="w"> </span><span class="si">${</span><span class="nv">OUTPUT_DIR</span><span class="si">}</span>

<span class="c1"># Name of the dataset to use</span>
<span class="nv">DATASET_NAME</span><span class="o">=</span>tf_flowers

<span class="c1"># Train resnet_v1_50 using the TFDS catalog dataset</span>
tlt<span class="w"> </span>train<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-f<span class="w"> </span>tensorflow<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--model-name<span class="w"> </span>resnet_v1_50<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--dataset-name<span class="w"> </span><span class="si">${</span><span class="nv">DATASET_NAME</span><span class="si">}</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--dataset-dir<span class="w"> </span><span class="si">${</span><span class="nv">DATASET_DIR</span><span class="si">}</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--output-dir<span class="w"> </span><span class="si">${</span><span class="nv">OUTPUT_DIR</span><span class="si">}</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--epochs<span class="w"> </span><span class="m">2</span>

<span class="c1"># Evaluate the model exported after training</span>
<span class="c1"># Note that your --model-dir path may vary, since each training run creates a new directory</span>
tlt<span class="w"> </span><span class="nb">eval</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--model-dir<span class="w"> </span><span class="si">${</span><span class="nv">OUTPUT_DIR</span><span class="si">}</span>/resnet_v1_50/1<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--dataset-name<span class="w"> </span><span class="si">${</span><span class="nv">DATASET_NAME</span><span class="si">}</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--dataset-dir<span class="w"> </span><span class="si">${</span><span class="nv">DATASET_DIR</span><span class="si">}</span>
</pre></div>
</div>
</section>
<section id="citations">
<h2>Citations<a class="headerlink" href="#citations" title="Permalink to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@ONLINE</span> <span class="p">{</span><span class="n">tfflowers</span><span class="p">,</span>
<span class="n">author</span> <span class="o">=</span> <span class="s2">&quot;The TensorFlow Team&quot;</span><span class="p">,</span>
<span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Flowers&quot;</span><span class="p">,</span>
<span class="n">month</span> <span class="o">=</span> <span class="s2">&quot;jan&quot;</span><span class="p">,</span>
<span class="n">year</span> <span class="o">=</span> <span class="s2">&quot;2019&quot;</span><span class="p">,</span>
<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;http://download.tensorflow.org/example_images/flower_photos.tgz&quot;</span> <span class="p">}</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../../cli.html" class="btn btn-neutral float-left" title="CLI Reference" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="text_classification.html" class="btn btn-neutral float-right" title="Text Classification Intel Transfer Learning Tool CLI Examples" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022-2023, Intel Corporation.
      <span class="lastupdated">Last updated on Apr 27, 2023.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>